{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nconst initialState = {\n  groups: [],\n  status: '',\n  privacyFilter: null,\n  avatarFilter: null,\n  friendsFilter: null\n};\nexport const fetchGroups = createAsyncThunk('groups/fetchGroups', async (_, {\n  rejectWithValue\n}) => {\n  const response = await new Promise(resolve => {\n    setTimeout(() => {\n      resolve({\n        result: 1,\n        data: require('./groups.json')\n      });\n    }, 1000);\n  });\n  if (response.result && response.data) {\n    return response.data;\n  } else {\n    return rejectWithValue('server error');\n  }\n});\nconst groupsSlice = createSlice({\n  name: 'groups',\n  initialState,\n  reducers: {\n    changePrivacyFilter(state, action) {\n      state.privacyFilter = action.payload;\n    },\n    changeAvatarFilter(state, action) {\n      state.avatarFilter = action.payload;\n    },\n    changeFriendsFilter(state, action) {\n      state.friendsFilter = action.payload;\n    },\n    clearFilters(state) {\n      state.privacyFilter = null;\n      state.avatarFilter = null;\n      state.friendsFilter = null;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchGroups.pending, state => {\n      state.status = 'loading';\n    }).addCase(fetchGroups.fulfilled, (state, action) => {\n      state.status = 'succeeded';\n      state.groups = action.payload || [];\n    }).addCase(fetchGroups.rejected, state => {\n      state.status = 'failed';\n    });\n  }\n});\nexport default groupsSlice.reducer;\nexport const {\n  changePrivacyFilter,\n  changeAvatarFilter,\n  changeFriendsFilter,\n  clearFilters\n} = groupsSlice.actions;","map":{"version":3,"names":["createSlice","createAsyncThunk","initialState","groups","status","privacyFilter","avatarFilter","friendsFilter","fetchGroups","_","rejectWithValue","response","Promise","resolve","setTimeout","result","data","require","groupsSlice","name","reducers","changePrivacyFilter","state","action","payload","changeAvatarFilter","changeFriendsFilter","clearFilters","extraReducers","builder","addCase","pending","fulfilled","rejected","reducer","actions"],"sources":["/Users/adel/Desktop/work/react/vk/vk_test2/src/store/groupSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction } from \"@reduxjs/toolkit\";\nimport { Group } from \"../models/models\";\ninterface GetGroupsResponse {\n  result: 1 | 0,\n  data?: Group[]\n}\n\ninterface GroupsState {\n  groups: Group[],\n  status: string,\n  privacyFilter: boolean | null,\n  avatarFilter: string | null,\n  friendsFilter: boolean | null\n}\n\nconst initialState: GroupsState = {\n  groups: [],\n  status: '',\n  privacyFilter: null,\n  avatarFilter: null,\n  friendsFilter: null\n}\n\n\nexport const fetchGroups = createAsyncThunk('groups/fetchGroups', async (_, { rejectWithValue }) => {\n  const response = await new Promise<GetGroupsResponse>(resolve => {\n    setTimeout(() => {\n      resolve({ result: 1, data: require('./groups.json') });\n    }, 1000);\n  });\n  if (response.result && response.data) {\n\n    return response.data;\n  } else {\n    return rejectWithValue('server error')\n  }\n});\nconst groupsSlice = createSlice({\n  name: 'groups',\n  initialState,\n  reducers: {\n    changePrivacyFilter(state, action: PayloadAction<boolean | null>) {\n      state.privacyFilter = action.payload\n    },\n    changeAvatarFilter(state, action: PayloadAction<string | null>) {\n      state.avatarFilter = action.payload\n    },\n    changeFriendsFilter(state, action: PayloadAction<boolean | null>) {\n      state.friendsFilter = action.payload\n    },\n    clearFilters(state) {\n      state.privacyFilter = null;\n      state.avatarFilter = null;\n      state.friendsFilter = null;\n    }\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchGroups.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(fetchGroups.fulfilled, (state, action: PayloadAction<Group[]>) => {\n        state.status = 'succeeded';\n        state.groups = action.payload || [];\n      })\n      .addCase(fetchGroups.rejected, (state) => {\n        state.status = 'failed';\n      });\n  },\n\n});\n\nexport default groupsSlice.reducer;\nexport const {\n  changePrivacyFilter,\n  changeAvatarFilter,\n  changeFriendsFilter,\n  clearFilters,\n} = groupsSlice.actions;\n\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAuB,kBAAkB;AAe/E,MAAMC,YAAyB,GAAG;EAChCC,MAAM,EAAE,EAAE;EACVC,MAAM,EAAE,EAAE;EACVC,aAAa,EAAE,IAAI;EACnBC,YAAY,EAAE,IAAI;EAClBC,aAAa,EAAE;AACjB,CAAC;AAGD,OAAO,MAAMC,WAAW,GAAGP,gBAAgB,CAAC,oBAAoB,EAAE,OAAOQ,CAAC,EAAE;EAAEC;AAAgB,CAAC,KAAK;EAClG,MAAMC,QAAQ,GAAG,MAAM,IAAIC,OAAO,CAAoBC,OAAO,IAAI;IAC/DC,UAAU,CAAC,MAAM;MACfD,OAAO,CAAC;QAAEE,MAAM,EAAE,CAAC;QAAEC,IAAI,EAAEC,OAAO,CAAC,eAAe;MAAE,CAAC,CAAC;IACxD,CAAC,EAAE,IAAI,CAAC;EACV,CAAC,CAAC;EACF,IAAIN,QAAQ,CAACI,MAAM,IAAIJ,QAAQ,CAACK,IAAI,EAAE;IAEpC,OAAOL,QAAQ,CAACK,IAAI;EACtB,CAAC,MAAM;IACL,OAAON,eAAe,CAAC,cAAc,CAAC;EACxC;AACF,CAAC,CAAC;AACF,MAAMQ,WAAW,GAAGlB,WAAW,CAAC;EAC9BmB,IAAI,EAAE,QAAQ;EACdjB,YAAY;EACZkB,QAAQ,EAAE;IACRC,mBAAmBA,CAACC,KAAK,EAAEC,MAAqC,EAAE;MAChED,KAAK,CAACjB,aAAa,GAAGkB,MAAM,CAACC,OAAO;IACtC,CAAC;IACDC,kBAAkBA,CAACH,KAAK,EAAEC,MAAoC,EAAE;MAC9DD,KAAK,CAAChB,YAAY,GAAGiB,MAAM,CAACC,OAAO;IACrC,CAAC;IACDE,mBAAmBA,CAACJ,KAAK,EAAEC,MAAqC,EAAE;MAChED,KAAK,CAACf,aAAa,GAAGgB,MAAM,CAACC,OAAO;IACtC,CAAC;IACDG,YAAYA,CAACL,KAAK,EAAE;MAClBA,KAAK,CAACjB,aAAa,GAAG,IAAI;MAC1BiB,KAAK,CAAChB,YAAY,GAAG,IAAI;MACzBgB,KAAK,CAACf,aAAa,GAAG,IAAI;IAC5B;EACF,CAAC;EACDqB,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CACJC,OAAO,CAACtB,WAAW,CAACuB,OAAO,EAAGT,KAAK,IAAK;MACvCA,KAAK,CAAClB,MAAM,GAAG,SAAS;IAC1B,CAAC,CAAC,CACD0B,OAAO,CAACtB,WAAW,CAACwB,SAAS,EAAE,CAACV,KAAK,EAAEC,MAA8B,KAAK;MACzED,KAAK,CAAClB,MAAM,GAAG,WAAW;MAC1BkB,KAAK,CAACnB,MAAM,GAAGoB,MAAM,CAACC,OAAO,IAAI,EAAE;IACrC,CAAC,CAAC,CACDM,OAAO,CAACtB,WAAW,CAACyB,QAAQ,EAAGX,KAAK,IAAK;MACxCA,KAAK,CAAClB,MAAM,GAAG,QAAQ;IACzB,CAAC,CAAC;EACN;AAEF,CAAC,CAAC;AAEF,eAAec,WAAW,CAACgB,OAAO;AAClC,OAAO,MAAM;EACXb,mBAAmB;EACnBI,kBAAkB;EAClBC,mBAAmB;EACnBC;AACF,CAAC,GAAGT,WAAW,CAACiB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}